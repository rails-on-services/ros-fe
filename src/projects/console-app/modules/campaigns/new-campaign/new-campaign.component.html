<mat-card>
  <mat-card-title>Create New Campaign</mat-card-title>

  <form [formGroup]="newCampaignFormGroup" (ngSubmit)="submitForm()">

    <mat-horizontal-stepper linear>
      <mat-step label="Survey Info" [stepControl]="newCampaignFormGroup">
        <mat-card-content>
          <table mat-table [dataSource]="surveyQuestions">
            <ng-container matColumnDef="type">
              <th mat-header-cell *matHeaderCellDef>Question Type</th>
              <td mat-cell *matCellDef="let element">{{element.type}}</td>
            </ng-container>

            <ng-container matColumnDef="question">
              <th mat-header-cell *matHeaderCellDef>Question</th>
              <td mat-cell *matCellDef="let element">{{element.question}}</td>
            </ng-container>

            <ng-container matColumnDef="answers">
              <th mat-header-cell *matHeaderCellDef>Answers</th>
              <td mat-cell *matCellDef="let element">{{element.answers}}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="['type', 'question', 'answers']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['type', 'question', 'answers'];"></tr>
          </table>


          <mat-form-field>
            <mat-label>Campaign Name</mat-label>
            <input matInput placeholder="Campaign Name" formControlName="campaignName" required>
            <mat-hint align="end">Not more than 60 characters long.</mat-hint>
            <mat-error *ngIf="hasError('campaignName', 'required')">Username is required</mat-error>
            <mat-error *ngIf="hasError('campaignName', 'maxlength')">You have more than 60 characters</mat-error>
          </mat-form-field>
        </mat-card-content>

        <mat-card-actions>
          <button mat-stroked-button matStepperPrevious>
            <mat-icon>keyboard_arrow_left</mat-icon>
            <span>Back</span>
          </button>
          <button mat-button color="warn" (click)="goBack()" type="button">Cancel</button>
          <button mat-stroked-button matStepperNext type="button">Next</button>
        </mat-card-actions>
      </mat-step>

      <mat-step label="Survey Type" [stepControl]="newCampaignFormGroup">
        <mat-card-content>
          <h3>Survey Type</h3>

          <mat-radio-group formControlName="campaignType">
            <mat-grid-list cols="6" rowHeight="143:156" gutterSize="20">
              <mat-radio-button *ngFor="let type of types; let i = index" [value]="type">
                <mat-grid-tile class="campaign-type-img-tile selected">
                    <div class="campaign-type-content">
                      <img class="campaign-type-img" [src]="'assets/icons/' + type.image + '.svg'">
                      <div>{{type.text}}</div>
                    </div>
                </mat-grid-tile>
              </mat-radio-button>
            </mat-grid-list>
          </mat-radio-group>


        </mat-card-content>

        <mat-card-actions>
          <button mat-stroked-button matStepperPrevious>
            <mat-icon>keyboard_arrow_left</mat-icon>
            <span>Back</span>
          </button>
          <button mat-button color="warn" (click)="goBack()" type="button">Cancel</button>
          <button mat-stroked-button matStepperNext type="button">Next</button>
        </mat-card-actions>
      </mat-step>

      <mat-step label="Final step">
        <mat-card-content>

        </mat-card-content>

        <mat-card-actions>
          <button mat-stroked-button matStepperPrevious>
            <mat-icon>keyboard_arrow_left</mat-icon>
            <span>Back</span>
          </button>
          <button mat-button color="warn" (click)="goBack()" type="button">Cancel</button>
          <button mat-raised-button color="primary" type="submit">Finish</button>
        </mat-card-actions>
      </mat-step>
    </mat-horizontal-stepper>
  </form>
</mat-card>
